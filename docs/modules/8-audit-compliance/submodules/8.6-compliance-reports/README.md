# 8.6 Compliance Reports

## Overview
**Compliance Reports** are the bridge between the school's internal data and the external regulatory world. Schools operate under strict laws—from Income Tax Departments to State Education Boards. This module transforms raw fee data into the specific, rigid formats required by these authorities.

### Real-World Analogy
Think of this as a **Car's Pollution Control Certificate (PUC)**.
You may know your car is running fine, but the Traffic Police doesn't care about your opinion. They care about the **Certificate**.
- **Internal Report**: "My engine is good." (Self-Assessment).
- **Compliance Report**: "Carbon emission is 0.5%." (Standardized Legal Proof).
Similarly, the school might know "We are profitable", but the Government wants "Form 10B" showing exactly *how* that profit was made.

## Purpose
- **Legal Protection**: Ensure the school is never fined for "Non-Compliance" or "Late Filing".
- **Standardization**: Convert "School's Term 1 Fee" into "Govt's Form A - Column 12" format automatically.
- **Grant Eligibility**: Many government aids depend on submitting accurate "Utilization Certificates" (UC) of previous funds.
- **Transparency**: Provide parents with legally mandated "Fee Rationale" documents explaining why fees were hiked.

## Key Features
- **Template Library**: Pre-loaded formats for CBSE, ICSE, State Boards, and IT Dept.
- **Anonymization**: "Redacted Views" to share data with third parties without revealing sensitive student names (GDPR/DPDP compliance).
- **Format Locking**: Once a Compliance Report is generated and filed, the system *freezes* the underlying data to prevent "Changing History".
- **Digital Signing**: Integration with Digital Signature Certificates (DSC) to sign PDF reports electronically.

## Real-World Scenarios

### Scenario 1: The Income Tax Scrutiny
**Situation**: IT Dept asks for a breakdown of "Cash vs Bank Collection" exceeding ₹2 Lakhs per person.
**Action**:
1.  Accountant selects **"Form 26AS Reconciliation Report"**.
2.  System scans 50,000 receipts.
3.  **Result**: Generates a CSV listing the 5 parents who paid > ₹2L in cash.
4.  **Outcome**: Report submitted, scrutiny cleared.

### Scenario 2: The Fee Hike Justification
**Situation**: The State Fee Regulatory Committee demands an explanation for the 10% fee hike.
**Action**:
1.  Admin runs **"Fee Justification Report"**.
2.  The report auto-calculates: "Staff Salary hiked by 12%. Electricity bill up by 15%. Fee hike of 10% is under-recovery."
3.  **Outcome**: The Committee accepts the data-backed logic.

### Scenario 3: The Third-Party Vendor
**Situation**: School hires a "Bus Tracking App" vendor and needs to share student bus routes.
**Action**:
1.  Admin runs **"Transport Manifest (Compliant)"**.
2.  **Options**: Checks "Mask Contact Numbers" and "Hide Fee Data".
3.  **Result**: Vendor gets a list of Bus Stops and Student IDs, but no private financial or contact info.

## Edge Cases & Handling

| Edge Case | Description | Handling Strategy |
|-----------|-------------|-------------------|
| **Format Change** | Govt changes the Excel template format overnight. | **Mapper Tool**: The system allows the Admin to "Map" internal columns to the new Excel Template columns without rewriting code. |
| **Data Retention** | Law requires financial data to be kept for 7 years. | **Archive Lock**: The system prevents "Hard Delete" of any student/fee record younger than 7 years, identifying it as a compliance violation. |
| **FCRA (Foreign Funds)** | An NRI parent pays fee in Dollars. | **Segregation**: The report separates "Foreign Source" income into a distinct schedule as required by FCRA regulations. |
| **Missing PAN** | A parent paid ₹5L but didn't provide PAN Card Number. | **Alert**: Generation fails with "Validation Error: PAN Missing for Transaction #999". Forces Admin to fix data before reporting. |

## Data Fields

| Field | Type | Description |
|-------|------|-------------|
| **Report Type** | Enum | Form 26AS, RTE QPR, Fee Committee Form A. |
| **Filing Year** | Year | Financial Year (e.g., FY 2023-24). |
| **Generated By** | User | Auditor ID. |
| **Submission Date** | Date | When it was sent to govt. |
| **Ack Number** | String | Receipt # from the Govt Portal. |
| **Status** | Enum | Draft, Finalized, Submitted. |

## User Actions
1.  **Select Template**: Choose "CBSE OASIS Report".
2.  **Validate Data**: System runs a "Pre-Check" to find missing fields (like Aadhaar numbers).
3.  **Generate & Freeze**: Create the final PDF and lock the period.
4.  **Upload Acknowledgment**: Attach the "Received" stamp from the govt portal for record-keeping.

## Best Practices
- **Maker-Checker**: The person *generating* the report and the person *submitting* it should be different.
- **Mock Runs**: Run compliance reports monthly, not just annually. This avoids the "March Madness" panic.
- **Masking Default**: By default, all reports should mask Mobile Numbers unless explicitly unchecked.
